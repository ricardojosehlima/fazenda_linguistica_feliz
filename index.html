<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<title>Lingu√≠stica Shuffle</title>

<!-- Fonte do Google Fonts (troque √† vontade) -->
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --dur-escreve:3s;   /* tempo para digitar */
  --dur-espera :4s;   /* tempo em que a frase fica vis√≠vel */
  --dur-some   :1s;   /* fade-out */
}
*{box-sizing:border-box;margin:0}
body{
  display:flex;justify-content:center;align-items:center;height:100vh;
  background:#f6f6f6;font-family:'Fira Code',monospace;
}
#card{
  max-width:650px;min-height:6rem;padding:2rem 3rem;
  border-radius:1.25rem;background:#fff;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  text-align:center;font-size:1.35rem;line-height:1.45;
  overflow:hidden;position:relative;
}
.typing span{opacity:0;animation:show .05s linear forwards}
@keyframes show{to{opacity:1}}
.fadeout{animation:fade var(--dur-some) forwards}
@keyframes fade{to{opacity:0}}
</style>
</head>
<body>

<!-- Cart√£o que receber√° as frases -->
<div id="card"><!-- conte√∫do ser√° inserido via JS --></div>

<script>
/* ---------- 1. Elemento do cart√£o j√° dispon√≠vel --------- */
const carta = document.getElementById('card');

/* ---------- 2. Fun√ß√£o que escreve uma frase (typewriter) */
function digitar(frase){
  carta.className='';          // limpa classes anteriores
  carta.style.opacity=1;
  carta.innerHTML='';          // zera conte√∫do

  // a) Linha principal animada
  const linha = document.createElement('p');
  linha.style.margin='0';
  [...frase.texto].forEach((ch,i,arr)=>{
     const span=document.createElement('span');
     span.textContent=ch;
     span.style.animationDelay =
       (i*(parseFloat(getComputedStyle(document.documentElement)
       .getPropertyValue('--dur-escreve'))/arr.length))+'s';
     linha.appendChild(span);
  });

  // b) Categoria (mostra inteira de uma vez)
  const cat = document.createElement('p');
  cat.textContent = '‚Ü≥ '+frase.categoria;
  cat.style='margin-top:1rem;font-size:.9rem;opacity:.6;';

  carta.append(linha,cat);
  carta.classList.add('typing');
}

/* ---------- 3. Loop autom√°tico ---------- */
const durEscreve = 3000, durEspera = 4000, durSome = 1000;
function ciclo(){
  const frase = frases[Math.floor(Math.random()*frases.length)];
  digitar(frase);
  setTimeout(()=>carta.classList.add('fadeout'), durEscreve+durEspera);
  setTimeout(ciclo, durEscreve+durEspera+durSome);
}

/* ---------- 4. Carrega JSON e inicia ---------- */
let frases = [];
fetch('frases.json')
  .then(r=>r.json())
  .then(data=>{
      frases = data;
      ciclo();                // s√≥ inicia quando tudo pronto
  })
  .catch(err=>{               // debug r√°pido se JSON falhar
      carta.textContent = 'Erro ao carregar frases.json ü•≤';
      console.error('Problema ao ler JSON:', err);
  });
</script>
</body>
</html>
